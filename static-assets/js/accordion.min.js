"use strict";function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(d,c){for(var b=0,a;b<c.length;b++)a=c[b],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(d,a.key,a)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}var Accordion=function(){function a(){var f=this,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},j,s,g,r,i,d,k,l,m,n,o,p,h,c,q;_classCallCheck(this,a),j=b.beforeOpen,s=j===void 0?function(){}:j,g=b.beforeClose,r=g===void 0?function(){}:g,i=b.itemClass,d=i===void 0?"accordion__item":i,k=b.headingClass,l=k===void 0?"accordion__item-heading":k,m=b.contentClass,n=m===void 0?"accordion__item-content":m,o=b.closedHeight,p=o===void 0?0:o,h=b.containerIsItem,c=h!==void 0&&h,e=e||document,this.beforeOpen=s,this.beforeClose=r,this.itemClass=d,this.headingClass=l,this.contentClass=n,this.closedHeight=p,this.containerIsItem=c,this.accordionItems=e.querySelectorAll(".".concat(d)),q=c?d:n,document.addEventListener("transitionend",function(a){if(a.target.classList.contains(q)&&a.target.style.height==="".concat(a.target.scrollHeight,"px"))a.target.style.height="auto";else if(a.target.classList.contains(q)&&a.target.offsetHeight<a.target.scrollHeight){var b=c?a.target:getParentByClass(a.target,d);b.classList.remove("-open")}}),forEach(this.accordionItems,function(a,d){var b=c?a:a.querySelector(".".concat(l));c&&a.classList.add("accordion__item-content"),b.addEventListener("click",function(){a.classList.contains("-open")?f.closeItem(a,p):f.openItem(a)})})}return _createClass(a,[{key:"closeAll",value:function(){var a=this;forEach(this.accordionItems,function(b){a.closeItem(b),b.classList.remove("-open")})}},{key:"openItem",value:function(b){this.beforeOpen();var a=this.containerIsItem?b:b.querySelector(".".concat(this.contentClass));b.classList.add("-open"),a.style.setProperty("height",a.scrollHeight+"px"),a.style.setProperty("min-height",a.scrollHeight+"px")}},{key:"closeItem",value:function(a){this.beforeClose();var b=this.containerIsItem?a:a.querySelector(".".concat(this.contentClass));b.style.setProperty("height",this.closedHeight+"px"),b.style.setProperty("min-height",this.closedHeight+"px")}}]),a}();function getParentByClass(b,c){for(var a=b.parentElement;!a.className.split(" ").includes(c)&&a!=null;)a=a.parentElement;return a}